# Нахождение максимальных значений по столбцам матрицы

- Студент: Петров Егор Владимирович, группа 3823Б1ПМоп3
- Технология: SEQ | MPI
- Вариант: 16

## 1. Введение
Работа с большими матрицами часто требует много времени. Последовательные алгоритмы испытывают проблемы с производительностью и не превосходят ожидания пользователя. Это происходит из-за того, что программа использует не всю доступную ей вычислительную мощность. Параллельные версии должны ускорить работу программы, задействовав все доступные ресурсы аппаратного обеспечения.

## 2. Постановка задачи
Требуется разработать программу, которая находит максимальные значения по столбцам матрицы. Необходимо реализовать последовательную и параллельную версию с помощью технологии MPI.
Вход: n, m, std::vector<double>. Тут n - количество строк в матрице, m - количество столбцов в матрице, std::vector<double> размера n*m, в котором хранятся столбцы матрицы.
Выход: std::vector<double> размера m с искомыми максимумами.

## ## 3. Базовый Алгоритм (Последовательный)
При решении задачи используется базовый алгоритм поиска максимумов по столбцам матрицы:
1. Создается вектор с локальными результатами размера m.
2. Цикл по столбцам:
 	За минимальный элемент принять первый элемент столбца.
 	2.1 Цикл по строкам:
 		Если элемент больше максимума, то за максимум принять этот элемент.
 	Записать результат в вектор.

## 4. Схема распараллеливания
На корневом процессе вычисляются индексы начального и последнего столбца обработки для каждого процесса. После идет рассылка с помощью MPI_Scatter.
Каждый процесс находит локальные максимумы своих столбцов и записывает их в вектор размера m, инициализированный минимальным значением.
С помощью функции MPI_Allreduce и параметра MPI_MAX собирается искомый вектор максимумов.

## 5. Детали реализации
В параллельной реализации происходит подсчет индексов столбцов для каждого процесса, а не отправка целых столбцов матрицы, что ускоряет работу программы и уменьшает работу с памятью. Но каждый процесс создает вектор локальных результатов размера m, что не очень выгодно.

## 6. Характеристики локальной машины
- Аппаратное обеспечение/Операционная система: Intel Core i5 14400F, 10 ядер/16 потоков, 32 GB DDR5-5600, Windows 11 25H2.
- Компилятор: MSVC, Тип сборки: Release.
- Данные: сгенерированная матрица размерами 3000 на 3000 с элементами от -1e-4 до 1e-4.

## 7. Результаты

### 7.1 Корректность
Корректность программы была проверена с помощью функциональных тестов на разных типах матриц с разными данными.

### 7.2 Производительность
Для теста производительности была использована сгенерированная матрица размерами 3000 на 3000 с элементами от -1e-4 до 1e-4. Результаты были записаны в таблицу:

| Mode        | Count | Time, s | Speedup | Efficiency |
|-------------|-------|---------|---------|------------|
| seq         | 1     | 0.0215  | 1.00    | N/A        |
| mpi         | 2     | 0.0179  | 1.2     | 60.0%      |
| mpi         | 4     | 0.0084  | 2.56    | 64.0%      |

## 8. Выводы
Была разработана программа, которая находит максимальные значения по столбцам матрицы. Были реализованы последовательная и параллельная с помощью технологии MPI версии. По результатам теста производительности видно, что параллельная версия ускорила работу программы.

## 9. Список литературы
1. https://learn.microsoft.com/ru-ru/message-passing-interface/microsoft-mpi